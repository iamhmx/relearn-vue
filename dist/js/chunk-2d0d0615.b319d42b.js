(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d0615"],{6874:function(s,t,e){"use strict";e.r(t);var r=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",[e("md"),e("other")],1)},a=[],n=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},l=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("section",[e("h3",[s._v("采用发布、订阅模式，构造一个对象，实现发布和订阅方法；组件a调用订阅方法，监听事件，组件b调用发布方法，派发事件，当事件被派发时，所有订阅了该方法的组件都能收到通知，从而进行通信，常用于没有关系组件间的通信。")]),e("p",[s._v("实现 "),e("code",{pre:!0},[s._v("main.js")]),s._v("：")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" Vue "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue'")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Vue实例已经实现了订阅和发布方法：$on、$emit，可以直接使用😆")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 在Vue原型上挂一个$bus，所有的Vue实例都能通过它进行通信")]),s._v("\nVue.prototype.$bus = "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Vue()\n")])]),e("p",[s._v("a组件，订阅通知：")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("created() {\n  "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 订阅事件监听")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$bus.$on("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hello'")]),s._v(", v => {\n    alert("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'a组件接收到通知，值为：'")]),s._v(" + v)\n  })\n}\n")])]),e("p",[s._v("b组件，派发事件：")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'$bus.$emit('")]),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("hello")]),s._v("', '我是"),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("b")]),s._v("组件，嘻嘻')'>")]),s._v("用事件总线，派发事件"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n")])])])}],p=e("2877"),c={},v=Object(p["a"])(c,n,l,!1,null,null,null),_=v.exports,o=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",[e("p",[e("button",{on:{click:function(t){return s.$bus.$emit("hello","我是b组件，嘻嘻")}}},[s._v(" 用事件总线，派发事件 ")])])])},u=[],h={},i=h,j=Object(p["a"])(i,o,u,!1,null,"1c17776c",null),m=j.exports,b={components:{md:_,other:m},created:function(){this.$bus.$on("hello",(function(s){alert("a组件接收到通知，值为："+s)}))},beforeDestroy:function(){this.$bus.$off("hello")}},d=b,f=Object(p["a"])(d,r,a,!1,null,"2e19b394",null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d0d0615.b319d42b.js.map