{"version":3,"sources":["webpack:///./src/views/deploy/webhook/index.vue?27f3","webpack:///./src/views/deploy/webhook/md.md?edf0","webpack:///./src/views/deploy/webhook/md.md","webpack:///src/views/deploy/webhook/index.vue","webpack:///./src/views/deploy/webhook/index.vue?c78f","webpack:///./src/views/deploy/webhook/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","_m","_v","pre","staticStyle","attrs","script","component"],"mappings":"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","file":"js/chunk-2d0e4bd0.97ba9fd8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('md')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('h3',[_vm._v(\"利用 \"),_c('code',{pre:true},[_vm._v(\"webhook\")]),_vm._v(\" 实现持续集成\")]),_c('ol',[_c('li',[_vm._v(\"将本地代码上传 \"),_c('code',{pre:true},[_vm._v(\"GitHub\")]),_vm._v(\" 仓库\")]),_c('li',[_vm._v(\"添加 \"),_c('code',{pre:true},[_vm._v(\"webhook\")]),_vm._v(\"，配置服务器信息，当仓库中有指定事件发生（比如：\"),_c('code',{pre:true},[_vm._v(\"push\")]),_vm._v(\"）时，会向指定的服务器发送请求\")]),_c('li',[_vm._v(\"在服务器端运行 \"),_c('code',{pre:true},[_vm._v(\"server\")]),_vm._v(\" 服务，处理 \"),_c('code',{pre:true},[_vm._v(\"GitHub\")]),_vm._v(\" 发过来的请求，然后执行具体的操作\")])]),_c('h3',[_vm._v(\"配置 webhook\")]),_c('ul',[_c('li',[_c('p',[_vm._v(\"添加 \"),_c('code',{pre:true},[_vm._v(\"webhook\")]),_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":\"https://relearnvue.com/static/webhook1.png\"}})])]),_c('li',[_c('p',[_vm._v(\"配置服务器信息 \"),_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":\"https://relearnvue.com/static/webhook2.png\"}})])])]),_c('h3',[_vm._v(\"编写后台服务\")]),_c('ul',[_c('li',[_c('code',{pre:true},[_vm._v(\"webhooks.js\")])])]),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\",\"class\":\"language-js\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"var\")]),_vm._v(\" http = \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-built_in\"}},[_vm._v(\"require\")]),_vm._v(\"(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'http'\")]),_vm._v(\")\\n\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// 使用github-webhook-handler处理webhook\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"var\")]),_vm._v(\" createHandler = \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-built_in\"}},[_vm._v(\"require\")]),_vm._v(\"(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'github-webhook-handler'\")]),_vm._v(\")\\n\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// 创建handler实例，这里的path和secret要和github上保持一致\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"var\")]),_vm._v(\" handler = createHandler({ \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-attr\"}},[_vm._v(\"path\")]),_vm._v(\": \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'/webhooks'\")]),_vm._v(\", \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-attr\"}},[_vm._v(\"secret\")]),_vm._v(\": \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'relearnvuehahaha'\")]),_vm._v(\" })\\n\\n\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// 创建server，监听端口\")]),_vm._v(\"\\nhttp\\n  .createServer(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-function\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"function\")]),_vm._v(\"(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"req, res\")]),_vm._v(\") \")]),_vm._v(\"{\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// 用handler处理请求\")]),_vm._v(\"\\n    handler(req, res, \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-function\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"function\")]),_vm._v(\"(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"err\")]),_vm._v(\") \")]),_vm._v(\"{\\n      res.statusCode = \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-number\"}},[_vm._v(\"404\")]),_vm._v(\"\\n      res.end(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'no such location'\")]),_vm._v(\")\\n    })\\n  })\\n  .listen(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-number\"}},[_vm._v(\"6519\")]),_vm._v(\", () => {\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-built_in\"}},[_vm._v(\"console\")]),_vm._v(\".log(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'Webhooks Listen at 6519'\")]),_vm._v(\")\\n  })\\n\\nhandler.on(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'error'\")]),_vm._v(\", \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-function\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"function\")]),_vm._v(\"(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"err\")]),_vm._v(\") \")]),_vm._v(\"{\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-built_in\"}},[_vm._v(\"console\")]),_vm._v(\".error(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'Error：'\")]),_vm._v(\", err.message)\\n})\\n\\n\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// 监听push事件\")]),_vm._v(\"\\nhandler.on(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'push'\")]),_vm._v(\", \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-function\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"function\")]),_vm._v(\"(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"event\")]),_vm._v(\") \")]),_vm._v(\"{\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-built_in\"}},[_vm._v(\"console\")]),_vm._v(\".log(\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'接收到一个push事件，for %s to %s：'\")]),_vm._v(\",\\n    event.payload.repository.name,\\n    event.payload.ref\\n  )\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// 只处理master分支上且commit message以[cicd]开头的push事件\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"if\")]),_vm._v(\" (\\n    event.payload.ref === \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'refs/heads/master'\")]),_vm._v(\" &&\\n    event.payload.head_commit.message.startsWith(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'[cicd]'\")]),_vm._v(\")\\n  ) {\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-built_in\"}},[_vm._v(\"console\")]),_vm._v(\".log(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'deploy master branch'\")]),_vm._v(\")\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// 执行命令\")]),_vm._v(\"\\n    run_cmd(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'sh'\")]),_vm._v(\", [\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'./deploy-dev.sh'\")]),_vm._v(\"], text => \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-built_in\"}},[_vm._v(\"console\")]),_vm._v(\".log(text))\\n  }\\n})\\n\\n\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// 使用child_process执行shell文件\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-function\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"function\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-title\"}},[_vm._v(\"run_cmd\")]),_vm._v(\"(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"cmd, args, cb\")]),_vm._v(\") \")]),_vm._v(\"{\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"const\")]),_vm._v(\" spawn = \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-built_in\"}},[_vm._v(\"require\")]),_vm._v(\"(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'child_process'\")]),_vm._v(\").spawn\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"const\")]),_vm._v(\" child = spawn(cmd, args)\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"let\")]),_vm._v(\" res = \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"''\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// 输出\")]),_vm._v(\"\\n  child.stdout.on(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'data'\")]),_vm._v(\", buffer => (res += buffer.toString()))\\n  child.stdout.on(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'end'\")]),_vm._v(\", () => cb(res))\\n}\\n\")])]),_c('ul',[_c('li',[_c('p',[_vm._v(\"将 \"),_c('code',{pre:true},[_vm._v(\"webhooks.js\")]),_vm._v(\" 运行在服务器端，调试时可以用 \"),_c('code',{pre:true},[_vm._v(\"node\")]),_vm._v(\"、\"),_c('code',{pre:true},[_vm._v(\"nodemon\")]),_vm._v(\"，也可以用 \"),_c('code',{pre:true},[_vm._v(\"forever\")]),_vm._v(\"、\"),_c('code',{pre:true},[_vm._v(\"pm2\")]),_vm._v(\" 保持后台运行\")])]),_c('li',[_c('p',[_c('code',{pre:true},[_vm._v(\"deploy-dev.sh\")]),_vm._v(\" 脚本\")]),_c('ol',[_c('li',[_vm._v(\"拉取最新代码\")]),_c('li',[_vm._v(\"执行\"),_c('code',{pre:true},[_vm._v(\"build\")])])])])]),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\",\"class\":\"language-shell\"}},[_vm._v(\"echo 正在部署...\\necho git pull...\\ngit pull origin master\\nnpm install\\nnpm run build\\n\")])]),_c('ul',[_c('li',[_vm._v(\"执行 push 后，webhook 服务会自动拉取最新代码，然后打包最新资源，用\"),_c('code',{pre:true},[_vm._v(\"Nginx\")]),_vm._v(\"部署不需要重启，网址随即更新\")])]),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\",\"class\":\"language-shell\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-meta\"}},[_vm._v(\"$\")]),_c('span',{pre:true,attrs:{\"class\":\"bash\"}},[_vm._v(\" git add -A && git commit -m \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'[cicd]test cicd'\")]),_vm._v(\" && git push origin master\")]),_vm._v(\"\\n\")])])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./md.md?vue&type=template&id=5a9385ce&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\n * @Author: mingxing.huang\n * @Date: 2020-09-15 11:01:32\n-->\n<template>\n  <div>\n    <md></md>\n  </div>\n</template>\n\n<script>\nimport md from './md.md'\nexport default {\n\tcomponents: {\n\t\tmd,\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=479e38c8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"479e38c8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}